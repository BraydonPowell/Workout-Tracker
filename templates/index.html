<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Workout Tracker</title>
    <style>
        body { font-family: Arial; background: #0d1117; color: #eee; text-align: center; padding: 40px; }
        h1 { color: #00c2ff; margin-bottom: 20px; }
        .container { max-width: 600px; margin: auto; }
        input, button { padding: 10px; border-radius: 8px; border: none; margin: 5px; font-size: 16px; }
        input { width: 80%; background: #161b22; color: white; }
        button { background: #00c2ff; color: black; cursor: pointer; }
        .session-box { margin: 20px 0; background: #161b22; padding: 20px; border-radius: 10px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üèãÔ∏è Workout Tracker</h1>

        {% if current_session %}
            <div class="session-box">
                <h2>Current Workout:</h2>
                <p>{{ current_session }}</p>
                <form action="/end_workout">
                    <button type="submit">End Workout</button>
                </form>
            </div>

            <form action="/log" method="POST">
                <input name="exercise" placeholder="Exercise name" required><br>
                <div id="sets">
                    <input name="weight[]" placeholder="Weight (kg)">
                    <input name="reps[]" placeholder="Reps">
                </div>
                <button type="button" onclick="addSet()">+ Add Set</button><br><br>
                <button type="submit">Log Exercise</button>
            </form>
        {% else %}
            <form action="/start_workout" method="POST">
                <input name="session_name" placeholder="Workout name (Push, Legs, etc.)" required>
                <button type="submit">Start Workout</button>
            </form>
        {% endif %}

        {% if message %}
            <p style="margin-top: 20px; color: #00ff99;">{{ message }}</p>
        {% endif %}

        <br>
        <a href="/history" style="color:#00c2ff;">View History</a>
    </div>

<script>
function addSet() {
    const div = document.createElement('div');
    div.innerHTML = '<input name="weight[]" placeholder="Weight (kg)"> <input name="reps[]" placeholder="Reps">';
    document.getElementById('sets').appendChild(div);
}
</script>

</body>
</html>
